[gd_scene load_steps=83 format=3 uid="uid://cxdab7u2nnqn1"]

[ext_resource type="PackedScene" uid="uid://b8qiebtfu40ig" path="res://scenes/day_night_cycle.tscn" id="1_av7on"]
[ext_resource type="Script" path="res://scripts/game.gd" id="1_tycli"]
[ext_resource type="Texture2D" uid="uid://bhcdl7n54j5n7" path="res://assets/sprites/grassfield.png" id="2_kpsyd"]
[ext_resource type="Texture2D" uid="uid://d4hrl27gpfq2u" path="res://assets/sprites/ui/townhallshadow.png" id="3_aksag"]
[ext_resource type="Script" path="res://scripts/game_music.gd" id="3_u6e3s"]
[ext_resource type="AudioStream" uid="uid://dp8jnmm30bt11" path="res://assets/music/ambient-classical-guitar-144998.mp3" id="3_v7rxq"]
[ext_resource type="PackedScene" uid="uid://1awynisxpbmu" path="res://scenes/troops/loser.tscn" id="3_wrk6b"]
[ext_resource type="PackedScene" uid="uid://bgojqyy8rbv2g" path="res://scenes/troops/swordsman.tscn" id="4_sf3di"]
[ext_resource type="Texture2D" uid="uid://ds43sq3qstsx2" path="res://assets/sprites/farmerhuttopshadow.png" id="5_4oppb"]
[ext_resource type="Script" path="res://scripts/ui.gd" id="5_fj5ii"]
[ext_resource type="AudioStream" uid="uid://j8ufq60gc0qi" path="res://assets/music/heartbeat-10780.mp3" id="5_ly5hj"]
[ext_resource type="AudioStream" uid="uid://cghdt8wooaalt" path="res://assets/music/medieval-horn-by-kris-klavenes-wav-77565.mp3" id="6_2ohud"]
[ext_resource type="Texture2D" uid="uid://cxuvs5dsat2q5" path="res://assets/sprites/farmercrops.png" id="6_82cfq"]
[ext_resource type="Texture2D" uid="uid://dtv6rpfwiru4p" path="res://assets/sprites/ui/toolbar3.png" id="6_a6k4p"]
[ext_resource type="Texture2D" uid="uid://ch1a8nl25vp7q" path="res://assets/sprites/ui/Townhall.png" id="6_cvluj"]
[ext_resource type="Texture2D" uid="uid://bkc0pxg4b56pe" path="res://assets/sprites/ui/gold.png" id="6_pvk05"]
[ext_resource type="Texture2D" uid="uid://dwpkechh7pkaq" path="res://assets/sprites/forestshadow.png" id="7_7olro"]
[ext_resource type="Script" path="res://scripts/custom_nodes/enemy_spawner.gd" id="7_g2s7k"]
[ext_resource type="FontFile" uid="uid://cqnbm45upx3g5" path="res://assets/fonts/digital_disco/DigitalDisco.ttf" id="7_uf3kx"]
[ext_resource type="Texture2D" uid="uid://cscog4asfrv5c" path="res://assets/sprites/farmerhuttop2.png" id="8_gal5g"]
[ext_resource type="Texture2D" uid="uid://blsrb4u70web0" path="res://assets/sprites/ui/settings.png" id="9_fb7ly"]
[ext_resource type="Texture2D" uid="uid://ebufxe5454dd" path="res://assets/sprites/ui/moontosun.png" id="10_3cmgv"]
[ext_resource type="Texture2D" uid="uid://c1i5t6qilw6xw" path="res://assets/sprites/forest.png" id="10_g1jma"]
[ext_resource type="Texture2D" uid="uid://by68tqm7dhax4" path="res://assets/sprites/ui/upgradecrops.png" id="10_gv0kl"]
[ext_resource type="Script" path="res://scripts/custom_nodes/cloud_spawner.gd" id="13_lujry"]
[ext_resource type="Texture2D" uid="uid://bsac0i8t6xlny" path="res://assets/sprites/ui/neutralunitbutton.png" id="17_eksvu"]
[ext_resource type="Script" path="res://scripts/ui/unit_purchase_button.gd" id="18_22yke"]
[ext_resource type="Texture2D" uid="uid://b1vy2ckhijpvi" path="res://assets/sprites/ui/soldierbutton.png" id="19_6diqq"]
[ext_resource type="Texture2D" uid="uid://cwdcovmkghmlt" path="res://assets/sprites/ui/archersbutton.png" id="20_jo6hf"]
[ext_resource type="PackedScene" uid="uid://dcftx5e646qjg" path="res://scenes/troops/archer.tscn" id="21_15gsc"]
[ext_resource type="Texture2D" uid="uid://ih5jbfvxi6dg" path="res://assets/sprites/ui/extensions.png" id="21_yf8vv"]
[ext_resource type="Texture2D" uid="uid://cng8foy0jed4t" path="res://assets/sprites/ui/farmerbutton.png" id="23_fvybc"]
[ext_resource type="PackedScene" uid="uid://dlgekwykox87l" path="res://scenes/troops/farmer.tscn" id="24_gjf34"]
[ext_resource type="Texture2D" uid="uid://yy08p2eawtr5" path="res://assets/sprites/ui/wizzardbutton.png" id="26_3xdrc"]
[ext_resource type="PackedScene" uid="uid://bir6ecy8c2vcm" path="res://scenes/troops/wizard.tscn" id="26_uj1yr"]
[ext_resource type="FontFile" uid="uid://dft3ar1si3as5" path="res://assets/fonts/pixels/Pixels.ttf" id="27_d15pn"]
[ext_resource type="PackedScene" uid="uid://kph3qwuhnkt" path="res://scenes/troops/shieldman.tscn" id="28_kq3j7"]
[ext_resource type="Texture2D" uid="uid://baamd4roobuoc" path="res://assets/sprites/ui/shieldmenbutton.png" id="28_lrui6"]
[ext_resource type="FontFile" uid="uid://dk87uv2vqoope" path="res://assets/fonts/dogica/OTF/dogicabold.otf" id="34_enp55"]
[ext_resource type="Script" path="res://scripts/ui/the_moon.gd" id="35_23c4p"]
[ext_resource type="PackedScene" uid="uid://cswvv7e1eyxus" path="res://scenes/menus/pause_menu.tscn" id="35_e0dh8"]
[ext_resource type="FontFile" uid="uid://n8i37jplrix0" path="res://assets/fonts/silkscreen/slkscrb.ttf" id="36_t40lm"]
[ext_resource type="PackedScene" uid="uid://det32cffp1351" path="res://scenes/menus/debug_menu.tscn" id="38_yum8s"]

[sub_resource type="Animation" id="Animation_ef4nr"]
resource_name = "DayTransition"
length = 1.5
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Music/DayMusic:volume_db")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(-80, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 1.5)
}

[sub_resource type="Animation" id="Animation_n2rj3"]
length = 0.001
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Music/DayMusic:volume_db")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Music/NightMusic:volume_db")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}

[sub_resource type="Animation" id="Animation_jppi8"]
resource_name = "NightTransition"
length = 1.5
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Music/NightMusic:volume_db")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(-80, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 1.5)
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_2m27q"]
_data = {
"DayTransition": SubResource("Animation_ef4nr"),
"NightTransition": SubResource("Animation_jppi8"),
"RESET": SubResource("Animation_n2rj3")
}

[sub_resource type="NavigationPolygon" id="NavigationPolygon_566c8"]
vertices = PackedVector2Array(55, 143, 190, 147, 208, 187, -184, 187, -56, 147, -260, 117, -285, 174, -365, 179, -370, -199, -255, 89, 368, -200, -205, 86, -142, 121, -189, 97, -88, 120, -150, 130, -187, 131, 72, 126, 54, 129, -54, 130, -76, 129, 94, 117, 362, 177, 287, 179, 264, 116, 258, 97, 245, 83, 186, 95, 172, 125, 155, 118, -183, 150, 207, 83)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3, 4), PackedInt32Array(5, 6, 7, 8, 9), PackedInt32Array(9, 8, 10, 11), PackedInt32Array(12, 13, 11, 10, 14), PackedInt32Array(15, 16, 13, 12), PackedInt32Array(17, 18, 19, 20, 14, 10, 21), PackedInt32Array(10, 22, 23, 24, 25), PackedInt32Array(10, 25, 26), PackedInt32Array(27, 28, 29), PackedInt32Array(3, 30, 4), PackedInt32Array(0, 4, 19, 18), PackedInt32Array(29, 21, 10, 27), PackedInt32Array(31, 27, 10), PackedInt32Array(31, 10, 26)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-365, 179, -370, -199, 368, -200, 362, 177, 287, 179, 264, 116, 258, 97, 245, 83, 207, 83, 186, 95, 172, 125, 155, 118, 94, 117, 72, 126, 54, 129, 55, 143, 190, 147, 208, 187, -184, 187, -183, 150, -56, 147, -54, 130, -76, 129, -88, 120, -142, 121, -150, 130, -187, 131, -189, 97, -205, 86, -255, 89, -260, 117, -285, 174)])

[sub_resource type="RectangleShape2D" id="RectangleShape2D_quu5w"]
size = Vector2(867, 172)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_12vev"]
size = Vector2(178, 699)

[sub_resource type="InputEventKey" id="InputEventKey_23oa3"]
device = -1
keycode = 4194305

[sub_resource type="Shortcut" id="Shortcut_wlmnx"]
events = [SubResource("InputEventKey_23oa3")]

[sub_resource type="AtlasTexture" id="AtlasTexture_y2686"]
atlas = ExtResource("9_fb7ly")
region = Rect2(0, 0, 20, 19)

[sub_resource type="AtlasTexture" id="AtlasTexture_b1j2f"]
atlas = ExtResource("9_fb7ly")
region = Rect2(20, 0, 20, 19)

[sub_resource type="AtlasTexture" id="AtlasTexture_bsc0i"]
atlas = ExtResource("10_gv0kl")
region = Rect2(0, 0, 38, 17)

[sub_resource type="AtlasTexture" id="AtlasTexture_cxwm6"]
atlas = ExtResource("10_gv0kl")
region = Rect2(38, 0, 38, 17)

[sub_resource type="LabelSettings" id="LabelSettings_7l5tv"]
font = ExtResource("27_d15pn")
shadow_color = Color(0.113725, 0.0588235, 0.0784314, 1)

[sub_resource type="LabelSettings" id="LabelSettings_jmswk"]
font = ExtResource("7_uf3kx")
shadow_color = Color(0.0823529, 0.0392157, 0.054902, 1)

[sub_resource type="AtlasTexture" id="AtlasTexture_dafa4"]
atlas = ExtResource("17_eksvu")
region = Rect2(0, 0, 35, 43)

[sub_resource type="AtlasTexture" id="AtlasTexture_2m4yc"]
atlas = ExtResource("17_eksvu")
region = Rect2(35, 0, 35, 43)

[sub_resource type="LabelSettings" id="LabelSettings_3en6l"]
font = ExtResource("27_d15pn")
outline_color = Color(1, 1, 1, 0.662745)
shadow_color = Color(0.113725, 0.0588235, 0.0784314, 1)

[sub_resource type="AtlasTexture" id="AtlasTexture_4jx3e"]
atlas = ExtResource("19_6diqq")
region = Rect2(0, 0, 35, 43)

[sub_resource type="AtlasTexture" id="AtlasTexture_088fi"]
atlas = ExtResource("19_6diqq")
region = Rect2(35, 0, 35, 43)

[sub_resource type="AtlasTexture" id="AtlasTexture_hxph4"]
atlas = ExtResource("20_jo6hf")
region = Rect2(0, 0, 35, 43)

[sub_resource type="AtlasTexture" id="AtlasTexture_aimw3"]
atlas = ExtResource("20_jo6hf")
region = Rect2(35, 0, 35, 43)

[sub_resource type="AtlasTexture" id="AtlasTexture_e4wxn"]
atlas = ExtResource("23_fvybc")
region = Rect2(0, 0, 35, 43)

[sub_resource type="AtlasTexture" id="AtlasTexture_2deo8"]
atlas = ExtResource("23_fvybc")
region = Rect2(35, 0, 35, 43)

[sub_resource type="AtlasTexture" id="AtlasTexture_x73fy"]
atlas = ExtResource("26_3xdrc")
region = Rect2(0, 0, 35, 43)

[sub_resource type="AtlasTexture" id="AtlasTexture_0p0tk"]
atlas = ExtResource("26_3xdrc")
region = Rect2(35, 0, 35, 43)

[sub_resource type="AtlasTexture" id="AtlasTexture_t4oym"]
atlas = ExtResource("28_lrui6")
region = Rect2(0, 0, 35, 43)

[sub_resource type="AtlasTexture" id="AtlasTexture_xtugd"]
atlas = ExtResource("28_lrui6")
region = Rect2(35, 0, 35, 43)

[sub_resource type="LabelSettings" id="LabelSettings_05tp1"]
font = ExtResource("7_uf3kx")

[sub_resource type="AtlasTexture" id="AtlasTexture_ku47w"]
atlas = ExtResource("10_3cmgv")
region = Rect2(81, 0, 27, 27)

[sub_resource type="LabelSettings" id="LabelSettings_d8den"]
font = ExtResource("27_d15pn")
shadow_size = 0

[sub_resource type="LabelSettings" id="LabelSettings_2dsgi"]
font = ExtResource("36_t40lm")

[sub_resource type="Animation" id="Animation_4ykd2"]
resource_name = "Saved"
length = 4.0
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate:r")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0),
"points": PackedFloat32Array(1, -0.25, 0, 0.25, 0, 1, -0.25, 0, 0.25, 0, 1, -0.25, 0, 0.25, 0, 1, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 1, 3, 4)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:modulate:g")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0),
"points": PackedFloat32Array(1, -0.25, 0, 0.25, 0, 1, -0.25, 0, 0.25, 0, 1, -0.25, 0, 0.25, 0, 1, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 1, 3, 4)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".:modulate:b")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0),
"points": PackedFloat32Array(1, -0.25, 0, 0.25, 0, 1, -0.25, 0, 0.25, 0, 1, -0.25, 0, 0.25, 0, 1, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 1, 3, 4)
}
tracks/3/type = "bezier"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath(".:modulate:a")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0, 1, -0.25, 0, 0.25, 0, 1, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 1, 3, 4)
}

[sub_resource type="Animation" id="Animation_labev"]
length = 0.001
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate:r")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(1, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:modulate:g")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(1, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".:modulate:b")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(1, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/3/type = "bezier"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath(".:modulate:a")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_ib38s"]
_data = {
"RESET": SubResource("Animation_labev"),
"Saved": SubResource("Animation_4ykd2")
}

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_4akak"]
bg_color = Color(0, 0, 0, 0.305882)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_smd21"]
bg_color = Color(0.258824, 0.0941176, 0, 1)
border_width_left = 5
border_width_top = 5
border_width_right = 5
border_width_bottom = 5
border_color = Color(0.6, 0.25098, 0, 1)

[sub_resource type="LabelSettings" id="LabelSettings_kep2u"]
font = ExtResource("34_enp55")

[sub_resource type="LabelSettings" id="LabelSettings_rwdop"]
font = ExtResource("7_uf3kx")

[node name="Game" type="Node2D" groups=["Game"]]
script = ExtResource("1_tycli")

[node name="DayNightCycle" parent="." instance=ExtResource("1_av7on")]

[node name="Camera" type="Camera2D" parent="."]

[node name="Music" type="Node2D" parent="."]
script = ExtResource("3_u6e3s")

[node name="AnimationPlayer" type="AnimationPlayer" parent="Music"]
root_node = NodePath("../..")
libraries = {
"": SubResource("AnimationLibrary_2m27q")
}

[node name="AlarmTimer" type="Timer" parent="Music"]
wait_time = 15.0
one_shot = true

[node name="DayMusic" type="AudioStreamPlayer" parent="Music"]
stream = ExtResource("3_v7rxq")
autoplay = true
mix_target = 1
bus = &"Music"

[node name="NightMusic" type="AudioStreamPlayer" parent="Music"]
stream = ExtResource("5_ly5hj")
autoplay = true
bus = &"Music"

[node name="Alarm" type="AudioStreamPlayer" parent="Music"]
stream = ExtResource("6_2ohud")
bus = &"Sfx"

[node name="UnitSpawnPos" type="Node2D" parent="."]
position = Vector2(0, 56)

[node name="GameArena" type="Sprite2D" parent="."]
texture = ExtResource("2_kpsyd")

[node name="TownHallShadow" type="Sprite2D" parent="GameArena"]
position = Vector2(0, 119)
texture = ExtResource("3_aksag")

[node name="NavArea" type="NavigationRegion2D" parent="GameArena"]
navigation_polygon = SubResource("NavigationPolygon_566c8")

[node name="WorldBorder" type="StaticBody2D" parent="GameArena"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="GameArena/WorldBorder"]
position = Vector2(27.5, -289)
shape = SubResource("RectangleShape2D_quu5w")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="GameArena/WorldBorder"]
position = Vector2(27.5, 277)
shape = SubResource("RectangleShape2D_quu5w")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="GameArena/WorldBorder"]
position = Vector2(-467, -76.5)
shape = SubResource("RectangleShape2D_12vev")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="GameArena/WorldBorder"]
position = Vector2(463, -76.5)
shape = SubResource("RectangleShape2D_12vev")

[node name="TownHall" type="Area2D" parent="GameArena"]
position = Vector2(0, 168)
collision_layer = 128
collision_mask = 128

[node name="CollisionPolygon" type="CollisionPolygon2D" parent="GameArena/TownHall"]
position = Vector2(0, -64)
polygon = PackedVector2Array(-51, 31, -50, 11, -37, -2, -7, -18, 0, -26, 18, -12, 33, -2, 46, 6, 52, 30, 212, 35, 217, 91, -203, 94, -197, 35)

[node name="FarmShadow" type="Sprite2D" parent="GameArena"]
position = Vector2(-144, 88)
texture = ExtResource("5_4oppb")

[node name="FarmCrops" type="Sprite2D" parent="GameArena/FarmShadow"]
position = Vector2(50, 3)
texture = ExtResource("6_82cfq")

[node name="ForestShadow" type="Sprite2D" parent="GameArena"]
position = Vector2(0, -145)
texture = ExtResource("7_7olro")

[node name="Projectiles" type="CanvasGroup" parent="." groups=["ProjectileContainer"]]

[node name="Troops" type="CanvasGroup" parent="." groups=["TroopContainer"]]

[node name="Farmer" parent="Troops" instance=ExtResource("24_gjf34")]
position = Vector2(0, 40)

[node name="EnemySpawner" type="Node2D" parent="."]
position = Vector2(0, -184)
script = ExtResource("7_g2s7k")

[node name="TownHall" type="Sprite2D" parent="."]
position = Vector2(0, 127)
texture = ExtResource("6_cvluj")

[node name="FarmRoof" type="Sprite2D" parent="."]
position = Vector2(-144, 89)
texture = ExtResource("8_gal5g")

[node name="Forest" type="Sprite2D" parent="."]
modulate = Color(1, 1, 1, 0.803922)
position = Vector2(0, -161)
texture = ExtResource("10_g1jma")

[node name="CloudSpawner" type="Node2D" parent="." node_paths=PackedStringArray("spawn_timer")]
position = Vector2(-472, 0)
script = ExtResource("13_lujry")
spawn_timer = NodePath("Timer")

[node name="Timer" type="Timer" parent="CloudSpawner"]
wait_time = 10.0
autostart = true

[node name="UILayer" type="CanvasLayer" parent="."]

[node name="UI" type="Control" parent="UILayer"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("5_fj5ii")

[node name="Toolbar" type="TextureRect" parent="UILayer/UI"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -198.0
offset_top = -50.0
offset_right = 198.0
grow_horizontal = 2
grow_vertical = 0
texture = ExtResource("6_a6k4p")
stretch_mode = 4

[node name="Settings" type="TextureButton" parent="UILayer/UI"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -10.0
offset_top = -55.0
offset_right = 10.0
offset_bottom = -36.0
grow_horizontal = 2
grow_vertical = 0
shortcut = SubResource("Shortcut_wlmnx")
shortcut_in_tooltip = false
texture_normal = SubResource("AtlasTexture_y2686")
texture_pressed = SubResource("AtlasTexture_b1j2f")
ignore_texture_size = true
stretch_mode = 5

[node name="UpgradeFarm" type="TextureButton" parent="UILayer/UI"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -19.0
offset_top = -33.0
offset_right = 19.0
offset_bottom = -16.0
grow_horizontal = 2
grow_vertical = 0
texture_normal = SubResource("AtlasTexture_bsc0i")
texture_pressed = SubResource("AtlasTexture_cxwm6")
stretch_mode = 5

[node name="FarmLevel" type="Label" parent="UILayer/UI/UpgradeFarm"]
unique_name_in_owner = true
layout_mode = 0
offset_top = -3.0
offset_right = 38.0
offset_bottom = 16.0
text = "69"
label_settings = SubResource("LabelSettings_7l5tv")
horizontal_alignment = 1
vertical_alignment = 1

[node name="FarmUpgradeCost" type="Label" parent="UILayer/UI/UpgradeFarm"]
unique_name_in_owner = true
layout_mode = 0
offset_top = 15.0
offset_right = 38.0
offset_bottom = 34.0
text = "420"
label_settings = SubResource("LabelSettings_jmswk")
horizontal_alignment = 1
vertical_alignment = 2

[node name="BuyLoser" type="Control" parent="UILayer/UI"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -140.0
offset_top = -67.0
offset_right = -95.0
grow_horizontal = 2
grow_vertical = 0

[node name="LoserBuyButton" type="TextureButton" parent="UILayer/UI/BuyLoser"]
unique_name_in_owner = true
layout_mode = 0
offset_left = 3.0
offset_top = 23.0
offset_right = 38.0
offset_bottom = 66.0
texture_normal = SubResource("AtlasTexture_dafa4")
texture_pressed = SubResource("AtlasTexture_2m4yc")
stretch_mode = 5
script = ExtResource("18_22yke")
troop_to_purchase = ExtResource("3_wrk6b")
replace_loser = false

[node name="Extension" type="TextureRect" parent="UILayer/UI/BuyLoser"]
layout_mode = 0
offset_left = 3.0
offset_top = 6.0
offset_right = 38.0
offset_bottom = 21.0
texture = ExtResource("21_yf8vv")
stretch_mode = 5

[node name="LoserPrice" type="Label" parent="UILayer/UI/BuyLoser"]
unique_name_in_owner = true
layout_mode = 0
offset_left = 4.0
offset_top = 4.0
offset_right = 39.0
offset_bottom = 19.0
text = "100"
label_settings = SubResource("LabelSettings_3en6l")
horizontal_alignment = 1
vertical_alignment = 1

[node name="BuySwordsman" type="Control" parent="UILayer/UI"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -100.0
offset_top = -67.0
offset_right = -55.0
grow_horizontal = 2
grow_vertical = 0

[node name="SwordsmanBuyButton" type="TextureButton" parent="UILayer/UI/BuySwordsman"]
unique_name_in_owner = true
layout_mode = 0
offset_left = 3.0
offset_top = 23.0
offset_right = 38.0
offset_bottom = 66.0
texture_normal = SubResource("AtlasTexture_4jx3e")
texture_pressed = SubResource("AtlasTexture_088fi")
stretch_mode = 5
script = ExtResource("18_22yke")
troop_to_purchase = ExtResource("4_sf3di")

[node name="Extension" type="TextureRect" parent="UILayer/UI/BuySwordsman"]
layout_mode = 0
offset_left = 3.0
offset_top = 6.0
offset_right = 38.0
offset_bottom = 21.0
texture = ExtResource("21_yf8vv")
stretch_mode = 5

[node name="SwordsmanPrice" type="Label" parent="UILayer/UI/BuySwordsman"]
unique_name_in_owner = true
layout_mode = 0
offset_left = 4.0
offset_top = 4.0
offset_right = 39.0
offset_bottom = 19.0
text = "100"
label_settings = SubResource("LabelSettings_3en6l")
horizontal_alignment = 1
vertical_alignment = 1

[node name="BuyArcher" type="Control" parent="UILayer/UI"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -60.0
offset_top = -67.0
offset_right = -15.0
grow_horizontal = 2
grow_vertical = 0

[node name="ArcherBuyButton" type="TextureButton" parent="UILayer/UI/BuyArcher"]
unique_name_in_owner = true
layout_mode = 0
offset_left = 3.0
offset_top = 23.0
offset_right = 38.0
offset_bottom = 66.0
texture_normal = SubResource("AtlasTexture_hxph4")
texture_pressed = SubResource("AtlasTexture_aimw3")
stretch_mode = 5
script = ExtResource("18_22yke")
troop_to_purchase = ExtResource("21_15gsc")

[node name="Extension" type="TextureRect" parent="UILayer/UI/BuyArcher"]
layout_mode = 0
offset_left = 3.0
offset_top = 6.0
offset_right = 38.0
offset_bottom = 21.0
texture = ExtResource("21_yf8vv")
stretch_mode = 5

[node name="ArcherPrice" type="Label" parent="UILayer/UI/BuyArcher"]
unique_name_in_owner = true
layout_mode = 0
offset_left = 4.0
offset_top = 2.0
offset_right = 39.0
offset_bottom = 21.0
text = "100"
label_settings = SubResource("LabelSettings_3en6l")
horizontal_alignment = 1
vertical_alignment = 1

[node name="BuyFarmer" type="Control" parent="UILayer/UI"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = 99.0
offset_top = -67.0
offset_right = 144.0
grow_horizontal = 2
grow_vertical = 0

[node name="FarmerBuyButton" type="TextureButton" parent="UILayer/UI/BuyFarmer"]
unique_name_in_owner = true
layout_mode = 0
offset_left = 3.0
offset_top = 23.0
offset_right = 38.0
offset_bottom = 66.0
texture_normal = SubResource("AtlasTexture_e4wxn")
texture_pressed = SubResource("AtlasTexture_2deo8")
stretch_mode = 5
script = ExtResource("18_22yke")
troop_to_purchase = ExtResource("24_gjf34")

[node name="Extension" type="TextureRect" parent="UILayer/UI/BuyFarmer"]
layout_mode = 0
offset_left = 3.0
offset_top = 6.0
offset_right = 38.0
offset_bottom = 21.0
texture = ExtResource("21_yf8vv")
stretch_mode = 5

[node name="FarmerPrice" type="Label" parent="UILayer/UI/BuyFarmer"]
unique_name_in_owner = true
layout_mode = 0
offset_left = 4.0
offset_top = 2.0
offset_right = 39.0
offset_bottom = 21.0
text = "100"
label_settings = SubResource("LabelSettings_3en6l")
horizontal_alignment = 1
vertical_alignment = 1

[node name="BuyWizard" type="Control" parent="UILayer/UI"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = 59.0
offset_top = -67.0
offset_right = 104.0
grow_horizontal = 2
grow_vertical = 0

[node name="WizardBuyButton" type="TextureButton" parent="UILayer/UI/BuyWizard"]
unique_name_in_owner = true
layout_mode = 0
offset_left = 3.0
offset_top = 23.0
offset_right = 38.0
offset_bottom = 66.0
texture_normal = SubResource("AtlasTexture_x73fy")
texture_pressed = SubResource("AtlasTexture_0p0tk")
stretch_mode = 5
script = ExtResource("18_22yke")
troop_to_purchase = ExtResource("26_uj1yr")

[node name="Extension" type="TextureRect" parent="UILayer/UI/BuyWizard"]
layout_mode = 0
offset_left = 3.0
offset_top = 6.0
offset_right = 38.0
offset_bottom = 21.0
texture = ExtResource("21_yf8vv")
stretch_mode = 5

[node name="WizardPrice" type="Label" parent="UILayer/UI/BuyWizard"]
unique_name_in_owner = true
layout_mode = 0
offset_left = 4.0
offset_top = 2.0
offset_right = 39.0
offset_bottom = 21.0
text = "100"
label_settings = SubResource("LabelSettings_3en6l")
horizontal_alignment = 1
vertical_alignment = 1

[node name="BuyShieldman" type="Control" parent="UILayer/UI"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = 19.0
offset_top = -67.0
offset_right = 64.0
grow_horizontal = 2
grow_vertical = 0

[node name="ShieldmanBuyButton" type="TextureButton" parent="UILayer/UI/BuyShieldman"]
unique_name_in_owner = true
layout_mode = 0
offset_left = 3.0
offset_top = 23.0
offset_right = 38.0
offset_bottom = 66.0
texture_normal = SubResource("AtlasTexture_t4oym")
texture_pressed = SubResource("AtlasTexture_xtugd")
stretch_mode = 5
script = ExtResource("18_22yke")
troop_to_purchase = ExtResource("28_kq3j7")

[node name="Extension" type="TextureRect" parent="UILayer/UI/BuyShieldman"]
layout_mode = 0
offset_left = 3.0
offset_top = 6.0
offset_right = 38.0
offset_bottom = 21.0
texture = ExtResource("21_yf8vv")
stretch_mode = 5

[node name="ShieldmanPrice" type="Label" parent="UILayer/UI/BuyShieldman"]
unique_name_in_owner = true
layout_mode = 0
offset_left = 4.0
offset_top = 2.0
offset_right = 39.0
offset_bottom = 21.0
text = "100"
label_settings = SubResource("LabelSettings_3en6l")
horizontal_alignment = 1
vertical_alignment = 1

[node name="GoldCount" type="Control" parent="UILayer/UI"]
anchors_preset = 0
offset_left = 191.0
offset_top = 335.0
offset_right = 243.0
offset_bottom = 384.0

[node name="GoldDisplay" type="Label" parent="UILayer/UI/GoldCount"]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = 10
anchor_right = 1.0
offset_top = -1.0
offset_bottom = 27.0
grow_horizontal = 2
text = "69"
label_settings = SubResource("LabelSettings_05tp1")
horizontal_alignment = 1
vertical_alignment = 2

[node name="Icon" type="TextureRect" parent="UILayer/UI/GoldCount"]
layout_mode = 1
anchors_preset = 12
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -20.0
offset_bottom = -4.0
grow_horizontal = 2
grow_vertical = 0
texture = ExtResource("6_pvk05")
stretch_mode = 5

[node name="Time" type="Control" parent="UILayer/UI"]
anchors_preset = 0
offset_left = 526.0
offset_top = 337.0
offset_right = 576.0
offset_bottom = 384.0

[node name="TheMoon" type="TextureRect" parent="UILayer/UI/Time"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -13.5
offset_top = 5.0
offset_right = 13.5
offset_bottom = 32.0
grow_horizontal = 2
texture = SubResource("AtlasTexture_ku47w")
stretch_mode = 5
script = ExtResource("35_23c4p")

[node name="DayCounter" type="Label" parent="UILayer/UI/Time"]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = 12
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 1.0
offset_top = -18.0
offset_bottom = -1.0
grow_horizontal = 2
grow_vertical = 0
text = "Day 1"
label_settings = SubResource("LabelSettings_d8den")
horizontal_alignment = 1
vertical_alignment = 1

[node name="FarmHouseButton" type="TextureButton" parent="UILayer/UI"]
layout_mode = 0
offset_left = 215.0
offset_top = 256.0
offset_right = 310.0
offset_bottom = 307.0
toggle_mode = true

[node name="SaveIndicator" type="Label" parent="UILayer/UI" groups=["SaveIndicator"]]
modulate = Color(1, 1, 1, 0)
layout_mode = 1
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 3.0
offset_top = -18.0
offset_right = 147.0
offset_bottom = 8.0
grow_vertical = 0
text = "Game Saved!"
label_settings = SubResource("LabelSettings_2dsgi")

[node name="AnimationPlayer" type="AnimationPlayer" parent="UILayer/UI/SaveIndicator"]
libraries = {
"": SubResource("AnimationLibrary_ib38s")
}

[node name="LoseScreen" type="Panel" parent="UILayer/UI" groups=["LoseScreen"]]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_4akak")

[node name="MockupBackground" type="Panel" parent="UILayer/UI/LoseScreen"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -200.0
offset_top = -125.0
offset_right = 200.0
offset_bottom = 125.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_smd21")

[node name="MockupTitle" type="Label" parent="UILayer/UI/LoseScreen"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -192.0
offset_top = -114.5
offset_right = 176.0
offset_bottom = -91.5
grow_horizontal = 2
grow_vertical = 2
text = "Your kingdom has fallen"
label_settings = SubResource("LabelSettings_kep2u")

[node name="MockupDays" type="Label" parent="UILayer/UI/LoseScreen"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -189.5
offset_top = -81.5
offset_right = -60.5
offset_bottom = -58.5
grow_horizontal = 2
grow_vertical = 2
text = "Days survived: 69"
label_settings = SubResource("LabelSettings_rwdop")

[node name="MockupEnemiesDefeat" type="Label" parent="UILayer/UI/LoseScreen"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -190.5
offset_top = -58.5
offset_right = -27.5
offset_bottom = -35.5
grow_horizontal = 2
grow_vertical = 2
text = "Enemies Defeated: 420"
label_settings = SubResource("LabelSettings_rwdop")

[node name="MockupTotalGoldEarned" type="Label" parent="UILayer/UI/LoseScreen"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -189.5
offset_top = -34.5
offset_right = -12.5
offset_bottom = -11.5
grow_horizontal = 2
grow_vertical = 2
text = "Total Gold Earned: 69420"
label_settings = SubResource("LabelSettings_rwdop")

[node name="MockupReturnToMenuButton" type="Button" parent="UILayer/UI/LoseScreen"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -88.0
offset_top = 78.5
offset_right = 88.0
offset_bottom = 109.5
grow_horizontal = 2
grow_vertical = 2
text = "Return To Main Menu"

[node name="PauseMenu" parent="UILayer/UI" instance=ExtResource("35_e0dh8")]
visible = false
layout_mode = 1

[node name="DebugMenu" parent="UILayer/UI" instance=ExtResource("38_yum8s")]
visible = false
layout_mode = 1

[connection signal="time_changed" from="DayNightCycle" to="Music" method="_on_day_night_cycle_time_changed"]
[connection signal="timeout" from="Music/AlarmTimer" to="Music" method="_on_alarm_timer_timeout"]
[connection signal="finished" from="Music/DayMusic" to="Music" method="_on_day_music_finished"]
[connection signal="finished" from="Music/NightMusic" to="Music" method="_on_night_music_finished"]
[connection signal="area_entered" from="GameArena/TownHall" to="." method="_on_town_hall_area_entered"]
[connection signal="area_exited" from="GameArena/TownHall" to="." method="_on_town_hall_area_exited"]
[connection signal="pressed" from="UILayer/UI/Settings" to="UILayer/UI" method="_on_settings_pressed"]
[connection signal="pressed" from="UILayer/UI/UpgradeFarm" to="UILayer/UI" method="_on_upgrade_farm_pressed"]
[connection signal="pressed" from="UILayer/UI/BuyLoser/LoserBuyButton" to="UILayer/UI/BuyLoser/LoserBuyButton" method="_on_pressed"]
[connection signal="pressed" from="UILayer/UI/BuySwordsman/SwordsmanBuyButton" to="UILayer/UI/BuySwordsman/SwordsmanBuyButton" method="_on_pressed"]
[connection signal="pressed" from="UILayer/UI/BuyArcher/ArcherBuyButton" to="UILayer/UI/BuyArcher/ArcherBuyButton" method="_on_pressed"]
[connection signal="pressed" from="UILayer/UI/BuyFarmer/FarmerBuyButton" to="UILayer/UI/BuyFarmer/FarmerBuyButton" method="_on_pressed"]
[connection signal="pressed" from="UILayer/UI/BuyWizard/WizardBuyButton" to="UILayer/UI/BuyWizard/WizardBuyButton" method="_on_pressed"]
[connection signal="pressed" from="UILayer/UI/BuyShieldman/ShieldmanBuyButton" to="UILayer/UI/BuyShieldman/ShieldmanBuyButton" method="_on_pressed"]
[connection signal="pressed" from="UILayer/UI/FarmHouseButton" to="UILayer/UI" method="_on_farm_house_button_pressed"]
